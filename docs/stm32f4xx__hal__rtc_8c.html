<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32F4xx_HAL_Driver: Src/stm32f4xx_hal_rtc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32F4xx_HAL_Driver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stm32f4xx_hal_rtc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>RTC HAL module driver. This file provides firmware functions to manage the following functionalities of the Real Time Clock (RTC) peripheral:  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa6b53830aa3e2efaf210c0b1d3e5f4a4"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group1.html#gaa6b53830aa3e2efaf210c0b1d3e5f4a4">HAL_RTC_Init</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:gaa6b53830aa3e2efaf210c0b1d3e5f4a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the RTC peripheral.  <a href="group___r_t_c___exported___functions___group1.html#gaa6b53830aa3e2efaf210c0b1d3e5f4a4">More...</a><br /></td></tr>
<tr class="separator:gaa6b53830aa3e2efaf210c0b1d3e5f4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24a8aac7bd6d9bac9f211d24ff6930ec"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group1.html#ga24a8aac7bd6d9bac9f211d24ff6930ec">HAL_RTC_DeInit</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:ga24a8aac7bd6d9bac9f211d24ff6930ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitializes the RTC peripheral.  <a href="group___r_t_c___exported___functions___group1.html#ga24a8aac7bd6d9bac9f211d24ff6930ec">More...</a><br /></td></tr>
<tr class="separator:ga24a8aac7bd6d9bac9f211d24ff6930ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacaa14b9faba755661fab2f6ff2e9768d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group1.html#gacaa14b9faba755661fab2f6ff2e9768d">HAL_RTC_MspInit</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:gacaa14b9faba755661fab2f6ff2e9768d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the RTC MSP.  <a href="group___r_t_c___exported___functions___group1.html#gacaa14b9faba755661fab2f6ff2e9768d">More...</a><br /></td></tr>
<tr class="separator:gacaa14b9faba755661fab2f6ff2e9768d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dbfe899526685bf815a60565c1cd3df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group1.html#ga3dbfe899526685bf815a60565c1cd3df">HAL_RTC_MspDeInit</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:ga3dbfe899526685bf815a60565c1cd3df"><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitializes the RTC MSP.  <a href="group___r_t_c___exported___functions___group1.html#ga3dbfe899526685bf815a60565c1cd3df">More...</a><br /></td></tr>
<tr class="separator:ga3dbfe899526685bf815a60565c1cd3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe0fed98171a564decd2a6c9be9781d8"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group2.html#gafe0fed98171a564decd2a6c9be9781d8">HAL_RTC_SetTime</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="struct_r_t_c___time_type_def.html">RTC_TimeTypeDef</a> *sTime, uint32_t Format)</td></tr>
<tr class="memdesc:gafe0fed98171a564decd2a6c9be9781d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets RTC current time.  <a href="group___r_t_c___exported___functions___group2.html#gafe0fed98171a564decd2a6c9be9781d8">More...</a><br /></td></tr>
<tr class="separator:gafe0fed98171a564decd2a6c9be9781d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae478ca2647e8d2f7dd1828ce43889a9e"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group2.html#gae478ca2647e8d2f7dd1828ce43889a9e">HAL_RTC_GetTime</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="struct_r_t_c___time_type_def.html">RTC_TimeTypeDef</a> *sTime, uint32_t Format)</td></tr>
<tr class="memdesc:gae478ca2647e8d2f7dd1828ce43889a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets RTC current time.  <a href="group___r_t_c___exported___functions___group2.html#gae478ca2647e8d2f7dd1828ce43889a9e">More...</a><br /></td></tr>
<tr class="separator:gae478ca2647e8d2f7dd1828ce43889a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cf6c70227337a564ccef82f64d6268f"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group2.html#ga6cf6c70227337a564ccef82f64d6268f">HAL_RTC_SetDate</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="struct_r_t_c___date_type_def.html">RTC_DateTypeDef</a> *sDate, uint32_t Format)</td></tr>
<tr class="memdesc:ga6cf6c70227337a564ccef82f64d6268f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets RTC current date.  <a href="group___r_t_c___exported___functions___group2.html#ga6cf6c70227337a564ccef82f64d6268f">More...</a><br /></td></tr>
<tr class="separator:ga6cf6c70227337a564ccef82f64d6268f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07ec2e43a305aa55e8c2442a349fc505"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group2.html#ga07ec2e43a305aa55e8c2442a349fc505">HAL_RTC_GetDate</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="struct_r_t_c___date_type_def.html">RTC_DateTypeDef</a> *sDate, uint32_t Format)</td></tr>
<tr class="memdesc:ga07ec2e43a305aa55e8c2442a349fc505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets RTC current date.  <a href="group___r_t_c___exported___functions___group2.html#ga07ec2e43a305aa55e8c2442a349fc505">More...</a><br /></td></tr>
<tr class="separator:ga07ec2e43a305aa55e8c2442a349fc505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd78015b93b16dcb9e41a4655a7ea972"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group3.html#gafd78015b93b16dcb9e41a4655a7ea972">HAL_RTC_SetAlarm</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="struct_r_t_c___alarm_type_def.html">RTC_AlarmTypeDef</a> *sAlarm, uint32_t Format)</td></tr>
<tr class="memdesc:gafd78015b93b16dcb9e41a4655a7ea972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the specified RTC Alarm.  <a href="group___r_t_c___exported___functions___group3.html#gafd78015b93b16dcb9e41a4655a7ea972">More...</a><br /></td></tr>
<tr class="separator:gafd78015b93b16dcb9e41a4655a7ea972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab66a7fec05e9d9374de95d5f61e16c16"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group3.html#gab66a7fec05e9d9374de95d5f61e16c16">HAL_RTC_SetAlarm_IT</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="struct_r_t_c___alarm_type_def.html">RTC_AlarmTypeDef</a> *sAlarm, uint32_t Format)</td></tr>
<tr class="memdesc:gab66a7fec05e9d9374de95d5f61e16c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the specified RTC Alarm with Interrupt.  <a href="group___r_t_c___exported___functions___group3.html#gab66a7fec05e9d9374de95d5f61e16c16">More...</a><br /></td></tr>
<tr class="separator:gab66a7fec05e9d9374de95d5f61e16c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga186d852f8aee8a4d0dfeec778be35482"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group3.html#ga186d852f8aee8a4d0dfeec778be35482">HAL_RTC_DeactivateAlarm</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, uint32_t Alarm)</td></tr>
<tr class="memdesc:ga186d852f8aee8a4d0dfeec778be35482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate the specified RTC Alarm.  <a href="group___r_t_c___exported___functions___group3.html#ga186d852f8aee8a4d0dfeec778be35482">More...</a><br /></td></tr>
<tr class="separator:ga186d852f8aee8a4d0dfeec778be35482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4786b652ffee2d59da2c65dd78646405"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group3.html#ga4786b652ffee2d59da2c65dd78646405">HAL_RTC_GetAlarm</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="struct_r_t_c___alarm_type_def.html">RTC_AlarmTypeDef</a> *sAlarm, uint32_t Alarm, uint32_t Format)</td></tr>
<tr class="memdesc:ga4786b652ffee2d59da2c65dd78646405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the RTC Alarm value and masks.  <a href="group___r_t_c___exported___functions___group3.html#ga4786b652ffee2d59da2c65dd78646405">More...</a><br /></td></tr>
<tr class="separator:ga4786b652ffee2d59da2c65dd78646405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac185f2ce34fe566418d0978a48e0c199"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group3.html#gac185f2ce34fe566418d0978a48e0c199">HAL_RTC_AlarmIRQHandler</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:gac185f2ce34fe566418d0978a48e0c199"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles Alarm interrupt request.  <a href="group___r_t_c___exported___functions___group3.html#gac185f2ce34fe566418d0978a48e0c199">More...</a><br /></td></tr>
<tr class="separator:gac185f2ce34fe566418d0978a48e0c199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e7ede6f1d11739aff62b28541e33c66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group3.html#ga0e7ede6f1d11739aff62b28541e33c66">HAL_RTC_AlarmAEventCallback</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:ga0e7ede6f1d11739aff62b28541e33c66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alarm A callback.  <a href="group___r_t_c___exported___functions___group3.html#ga0e7ede6f1d11739aff62b28541e33c66">More...</a><br /></td></tr>
<tr class="separator:ga0e7ede6f1d11739aff62b28541e33c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaedc27fe412f45d999d74a0b98dce4d09"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group3.html#gaedc27fe412f45d999d74a0b98dce4d09">HAL_RTC_PollForAlarmAEvent</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc, uint32_t Timeout)</td></tr>
<tr class="memdesc:gaedc27fe412f45d999d74a0b98dce4d09"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles AlarmA Polling request.  <a href="group___r_t_c___exported___functions___group3.html#gaedc27fe412f45d999d74a0b98dce4d09">More...</a><br /></td></tr>
<tr class="separator:gaedc27fe412f45d999d74a0b98dce4d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62efc08017f7dc4db0bc72f7c68085ad"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group4.html#ga62efc08017f7dc4db0bc72f7c68085ad">HAL_RTC_WaitForSynchro</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:ga62efc08017f7dc4db0bc72f7c68085ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the RTC Time and Date registers (RTC_TR and RTC_DR) are synchronized with RTC APB clock.  <a href="group___r_t_c___exported___functions___group4.html#ga62efc08017f7dc4db0bc72f7c68085ad">More...</a><br /></td></tr>
<tr class="separator:ga62efc08017f7dc4db0bc72f7c68085ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga527ac04240b47a22bf5ff469609eaa4d"><td class="memItemLeft" align="right" valign="top">HAL_RTCStateTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions___group5.html#ga527ac04240b47a22bf5ff469609eaa4d">HAL_RTC_GetState</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:ga527ac04240b47a22bf5ff469609eaa4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the RTC state.  <a href="group___r_t_c___exported___functions___group5.html#ga527ac04240b47a22bf5ff469609eaa4d">More...</a><br /></td></tr>
<tr class="separator:ga527ac04240b47a22bf5ff469609eaa4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50b2ead8d1755be360de2d624beaf9a0"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions.html#ga50b2ead8d1755be360de2d624beaf9a0">RTC_EnterInitMode</a> (<a class="el" href="struct_r_t_c___handle_type_def.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr class="memdesc:ga50b2ead8d1755be360de2d624beaf9a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enters the RTC Initialization mode.  <a href="group___r_t_c___exported___functions.html#ga50b2ead8d1755be360de2d624beaf9a0">More...</a><br /></td></tr>
<tr class="separator:ga50b2ead8d1755be360de2d624beaf9a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c33f1358a98db0c7c829c38538bf7ba"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions.html#ga8c33f1358a98db0c7c829c38538bf7ba">RTC_ByteToBcd2</a> (uint8_t Value)</td></tr>
<tr class="memdesc:ga8c33f1358a98db0c7c829c38538bf7ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a 2 digit decimal to BCD format.  <a href="group___r_t_c___exported___functions.html#ga8c33f1358a98db0c7c829c38538bf7ba">More...</a><br /></td></tr>
<tr class="separator:ga8c33f1358a98db0c7c829c38538bf7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1bcb309bb9e7ac4a1b4e95a11cfb26f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c___exported___functions.html#gaf1bcb309bb9e7ac4a1b4e95a11cfb26f">RTC_Bcd2ToByte</a> (uint8_t Value)</td></tr>
<tr class="memdesc:gaf1bcb309bb9e7ac4a1b4e95a11cfb26f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts from 2 digit BCD to Binary.  <a href="group___r_t_c___exported___functions.html#gaf1bcb309bb9e7ac4a1b4e95a11cfb26f">More...</a><br /></td></tr>
<tr class="separator:gaf1bcb309bb9e7ac4a1b4e95a11cfb26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTC HAL module driver. This file provides firmware functions to manage the following functionalities of the Real Time Clock (RTC) peripheral: </p>
<dl class="section author"><dt>Author</dt><dd>MCD Application Team<ul>
<li>Initialization and de-initialization functions</li>
<li>RTC Time and Date functions</li>
<li>RTC Alarm functions</li>
<li>Peripheral Control functions</li>
<li>Peripheral State functions</li>
</ul>
</dd></dl>
<pre class="fragment">==============================================================================
            ##### Backup Domain Operating Condition #####
==============================================================================
[..] The real-time clock (RTC), the RTC backup registers, and the backup 
     SRAM (BKP SRAM) can be powered from the VBAT voltage when the main 
     VDD supply is powered off.
     To retain the content of the RTC backup registers, backup SRAM, and supply 
     the RTC when VDD is turned off, VBAT pin can be connected to an optional 
     standby voltage supplied by a battery or by another source.

[..] To allow the RTC operating even when the main digital supply (VDD) is turned
     off, the VBAT pin powers the following blocks:
  (#) The RTC
  (#) The LSE oscillator
  (#) The backup SRAM when the low power backup regulator is enabled
  (#) PC13 to PC15 I/Os, plus PI8 I/O (when available)

[..] When the backup domain is supplied by VDD (analog switch connected to VDD),
     the following pins are available:
  (#) PC14 and PC15 can be used as either GPIO or LSE pins
  (#) PC13 can be used as a GPIO or as the RTC_AF1 pin
  (#) PI8 can be used as a GPIO or as the RTC_AF2 pin

[..] When the backup domain is supplied by VBAT (analog switch connected to VBAT 
     because VDD is not present), the following pins are available:
  (#) PC14 and PC15 can be used as LSE pins only
  (#) PC13 can be used as the RTC_AF1 pin 
  (#) PI8 can be used as the RTC_AF2 pin
           
                 ##### Backup Domain Reset #####
==================================================================
[..] The backup domain reset sets all RTC registers and the RCC_BDCR register 
     to their reset values. The BKPSRAM is not affected by this reset. The only
     way to reset the BKPSRAM is through the Flash interface by requesting 
     a protection level change from 1 to 0.
[..] A backup domain reset is generated when one of the following events occurs:
  (#) Software reset, triggered by setting the BDRST bit in the 
      RCC Backup domain control register (RCC_BDCR). 
  (#) VDD or VBAT power on, if both supplies have previously been powered off.  

                 ##### Backup Domain Access #####
==================================================================
[..] After reset, the backup domain (RTC registers, RTC backup data 
     registers and backup SRAM) is protected against possible unwanted write 
     accesses. 
[..] To enable access to the RTC Domain and RTC registers, proceed as follows:
  (+) Enable the Power Controller (PWR) APB1 interface clock using the
      __HAL_RCC_PWR_CLK_ENABLE() function.
  (+) Enable access to RTC domain using the HAL_PWR_EnableBkUpAccess() function.
  (+) Select the RTC clock source using the __HAL_RCC_RTC_CONFIG() function.
  (+) Enable RTC Clock using the __HAL_RCC_RTC_ENABLE() function.


                ##### How to use this driver #####
==================================================================
[..] 
  (+) Enable the RTC domain access (see description in the section above).
  (+) Configure the RTC Prescaler (Asynchronous and Synchronous) and RTC hour 
      format using the HAL_RTC_Init() function.

*** Time and Date configuration ***
===================================
[..] 
  (+) To configure the RTC Calendar (Time and Date) use the HAL_RTC_SetTime() 
      and HAL_RTC_SetDate() functions.
  (+) To read the RTC Calendar, use the HAL_RTC_GetTime() and HAL_RTC_GetDate() functions. 

*** Alarm configuration ***
===========================
[..]
  (+) To configure the RTC Alarm use the HAL_RTC_SetAlarm() function. 
      You can also configure the RTC Alarm with interrupt mode using the HAL_RTC_SetAlarm_IT() function.
  (+) To read the RTC Alarm, use the HAL_RTC_GetAlarm() function.

                ##### RTC and low power modes #####
==================================================================
[..] The MCU can be woken up from a low power mode by an RTC alternate 
     function.
[..] The RTC alternate functions are the RTC alarms (Alarm A and Alarm B), 
     RTC wake-up, RTC tamper event detection and RTC time stamp event detection.
     These RTC alternate functions can wake up the system from the Stop and 
     Standby low power modes.
[..] The system can also wake up from low power modes without depending 
     on an external interrupt (Auto-wake-up mode), by using the RTC alarm 
     or the RTC wake-up events.
[..] The RTC provides a programmable time base for waking up from the 
     Stop or Standby mode at regular intervals.
     Wake-up from STOP and STANDBY modes is possible only when the RTC clock source
     is LSE or LSI.</pre><dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; COPYRIGHT(c) 2017 STMicroelectronics</center></h2>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p><ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of STMicroelectronics nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
